### mysql锁
1. 什么是锁<br/>
mysql数据库是一个多用户共享的资源，多个用户并发访问时，会存在多个事务同时操作某一数据，如果不对事务
加以控制，获取到的数据可能会有问题，那么锁就是控制数据库并发操作的一种技术。

2. mysql锁的分类
- 表级锁：开销小，加锁快，冲突概率高
- 行级锁：开销大，枷锁慢，冲突概率低。行级锁又分为：<br/>
    (1) 共享锁：又称为读锁，多个事务可以同时为一个对象加共享锁，读取相应的数据，但是不能对数据进行修改。<br/>
    ```sql
    select ... lock in share mode
    ```
    (2) 排它锁: 又称写锁，对数据进行写操作。如果一个事务对对象加了排他锁，其他事务就不能再给它加任何锁了。
    (某个顾客把试衣间从里面反锁了，其他顾客想要使用这个试衣间，就只有等待锁从里面给打开了)<br/>
    ```sql
    select ... for update
    ```
    
3. 乐观锁和悲观锁
- 悲观锁 ：每次去拿数据的时候都认为别人会修改，所以每次操作的时候都会加锁；比如 mysql 的行级锁。
- 乐观锁 ：每次去拿数据时都认为别人不会修改数据，所以不对数据加锁，但是在更新时会判断是否有人对数据进行了更新。
        乐观锁的实现方式：(1) 使用版本号机制；(2) CAS 算法
        
4. [mysql 官方文档](https://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html)